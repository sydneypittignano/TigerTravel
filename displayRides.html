<div class="table-responsive">
<table class="table" style="border:6px solid black; border-collapse:separate; background-color:rgb(226, 226, 226)">
    <tbody>
    <td style="padding:0; margin:0; border:0">
    <table class="table" style="margin:0">
    <tbody>
        <tr style="background-color: sandybrown">
          <th colspan="5" align-right>My Ride from {{full_ride[0].get_origin()}} to {{full_ride[0].get_dest()}}</th>
          <th colspan="1" class="text-end">
            <form action="editride" method="get">
              <input type = "hidden" name = "rideid" value = {{full_ride[0].get_rideid()}} />
              <input type="submit" value="Edit Ride" style="background-color:lightblue">
            </form>
          </th>
          <th colspan="1" class="text-end">
            <form action="deleteride" method="get">
              <input type = "hidden" name = "rideid" value = {{full_ride[0].get_rideid()}} />
              <input type="submit" value="Delete Ride" style="background-color:tomato">
            </form>
          </th>
        </tr>
        <div class="container-fluid">
        <tr style="border-bottom:2px solid black; vertical-align:bottom">
            <th>Current Riders</th>
            <th>Origin</th>
            <th>Destination</th>
            <th>Departure Time</th>
            <th># of Riders</th>
            <th></th>
            <th></th>
        </tr>
        <tr>
          <td>{{', '.join(full_ride[0].get_riders())}}</td>
          <td>{{full_ride[0].get_origin()}}</td>
          <td>{{full_ride[0].get_dest()}}</td>

          {% if  full_ride[0].get_starttime().date() == full_ride[0].get_endtime().date() %}
          <td>
              {{full_ride[0].get_starttime().strftime('%A')}}, {{full_ride[0].get_starttime().strftime('%B')}} {{full_ride[0].get_starttime().strftime('%d')}} between
              {{full_ride[0].get_starttime().strftime('%I')}}:{{full_ride[0].get_starttime().strftime('%M')}} {{full_ride[0].get_starttime().strftime('%p')}} and {{full_ride[0].get_endtime().strftime('%I')}}:{{full_ride[0].get_endtime().strftime('%M')}} {{full_ride[0].get_endtime().strftime('%p')}}        
          </td>
          {% else %}
          <td>
              Between {{full_ride[0].get_starttime().strftime('%A')}}, {{full_ride[0].get_starttime().strftime('%B')}} {{full_ride[0].get_starttime().strftime('%d')}} at 
              {{full_ride[0].get_starttime().strftime('%I')}}:{{full_ride[0].get_starttime().strftime('%M')}} {{full_ride[0].get_starttime().strftime('%p')}} and 
              {{full_ride[0].get_endtime().strftime('%A')}}, {{full_ride[0].get_endtime().strftime('%B')}} {{full_ride[0].get_endtime().strftime('%d')}} at 
              {{full_ride[0].get_endtime().strftime('%I')}}:{{full_ride[0].get_endtime().strftime('%M')}} {{full_ride[0].get_endtime().strftime('%p')}}
          </td>
          {% endif %}

          <td>{{full_ride[0].get_num()}}</td>
          <td></td>
          <td></td>
        </tr>
      {% if full_ride[1]|length != 0 %}
      <tr style="background-color: sandybrown">
        <th colspan="7">Incoming requests: Others have requested to join your ride!</th>
      </tr>
      <tr>
        <th>Current Riders</th>
        <th>Origin</th>
        <th>Destination</th>
        <th>Departure Time</th>
        <th># of Riders</th>
        <th></th>
        <th></th>
      </tr>
      {% for incoming_ride in full_ride[1] %}
      <tr>
        <td>{{', '.join(incoming_ride.get_riders())}}</td>
        <td>{{incoming_ride.get_origin()}}</td>
        <td>{{incoming_ride.get_dest()}}</td>

        {% if  incoming_ride.get_starttime().date() == incoming_ride.get_endtime().date() %}
        <td>
            {{incoming_ride.get_starttime().strftime('%A')}}, {{incoming_ride.get_starttime().strftime('%B')}} {{incoming_ride.get_starttime().strftime('%d')}} between
            {{incoming_ride.get_starttime().strftime('%I')}}:{{incoming_ride.get_starttime().strftime('%M')}} {{incoming_ride.get_starttime().strftime('%p')}} and {{incoming_ride.get_endtime().strftime('%I')}}:{{incoming_ride.get_endtime().strftime('%M')}} {{incoming_ride.get_endtime().strftime('%p')}}        
        </td>
        {% else %}
        <td>
            Between {{incoming_ride.get_starttime().strftime('%A')}}, {{incoming_ride.get_starttime().strftime('%B')}} {{incoming_ride.get_starttime().strftime('%d')}} at 
            {{incoming_ride.get_starttime().strftime('%I')}}:{{incoming_ride.get_starttime().strftime('%M')}} {{incoming_ride.get_starttime().strftime('%p')}} and 
            {{incoming_ride.get_endtime().strftime('%A')}}, {{incoming_ride.get_endtime().strftime('%B')}} {{incoming_ride.get_endtime().strftime('%d')}} at 
            {{incoming_ride.get_endtime().strftime('%I')}}:{{incoming_ride.get_endtime().strftime('%M')}} {{incoming_ride.get_endtime().strftime('%p')}}
        </td>
        {% endif %}

        <td>{{incoming_ride.get_num()}}</td>
        <td>
          <form action="acceptrequest" method="get">
            <input type = "hidden" name = "joining_rideid" value = {{full_ride[0].get_rideid()}} />
            <input type = "hidden" name = "sending_rideid" value = {{incoming_ride.get_rideid()}} />
            <input type="submit" value="ACCEPT" style="background-color:lawngreen">
          </form>
        </td>
        <td>
          <form action="declinerequest" method="get">
            <input type = "hidden" name = "joining_rideid" value = {{full_ride[0].get_rideid()}} />
            <input type = "hidden" name = "sending_rideid" value = {{incoming_ride.get_rideid()}} />
            <input type="submit" value="DECLINE" style="background-color:tomato">
          </form>
        </td>
      </tr>
      {% endfor %}
      {% else %}
      <tr style="background-color: sandybrown">
        <th colspan="7">Nobody has requested to join this ride.</th>
      </tr>
      {% endif %}
      {% if full_ride[2]|length != 0 %}
      <tr style="background-color:sandybrown">
        <th colspan="7">You have requested to join the following rides:</th>
      </tr>
      <tr>
        <th>Current Riders</th>
        <th>Origin</th>
        <th>Destination</th>
        <th>Departure Time</th>
        <th># of Riders</th>
        <th></th>
        <th></th>
      </tr>
      {% for outgoing_ride in full_ride[2] %}
      <tr>
        <td>{{', '.join(outgoing_ride.get_riders())}}</td>
        <td>{{outgoing_ride.get_origin()}}</td>
        <td>{{outgoing_ride.get_dest()}}</td>

        {% if  outgoing_ride.get_starttime().date() == outgoing_ride.get_endtime().date() %}
        <td>
            {{outgoing_ride.get_starttime().strftime('%A')}}, {{outgoing_ride.get_starttime().strftime('%B')}} {{outgoing_ride.get_starttime().strftime('%d')}} between
            {{outgoing_ride.get_starttime().strftime('%I')}}:{{outgoing_ride.get_starttime().strftime('%M')}} {{outgoing_ride.get_starttime().strftime('%p')}} and {{outgoing_ride.get_endtime().strftime('%I')}}:{{outgoing_ride.get_endtime().strftime('%M')}} {{outgoing_ride.get_endtime().strftime('%p')}}        
        </td>
        {% else %}
        <td>
            Between {{outgoing_ride.get_starttime().strftime('%A')}}, {{outgoing_ride.get_starttime().strftime('%B')}} {{outgoing_ride.get_starttime().strftime('%d')}} at 
            {{outgoing_ride.get_starttime().strftime('%I')}}:{{outgoing_ride.get_starttime().strftime('%M')}} {{outgoing_ride.get_starttime().strftime('%p')}} and 
            {{outgoing_ride.get_endtime().strftime('%A')}}, {{outgoing_ride.get_endtime().strftime('%B')}} {{outgoing_ride.get_endtime().strftime('%d')}} at 
            {{outgoing_ride.get_endtime().strftime('%I')}}:{{outgoing_ride.get_endtime().strftime('%M')}} {{outgoing_ride.get_endtime().strftime('%p')}}
        </td>
        {% endif %}

        <td>{{outgoing_ride.get_num()}}</td>

        <td rowspan="2">
          <form action="cancelrequest" method="get">
            <input type = "hidden" name = "joining_rideid" value = {{outgoing_ride.get_rideid()}} />
            <input type = "hidden" name = "sending_rideid" value = {{full_ride[0].get_rideid()}} />
            <input type="submit" value="CANCEL REQUEST" style="background-color:tomato">
          </form>
        </td>
      </tr>
      {% endfor %}
      {% else %}
      <tr style="background-color:sandybrown">
        <th colspan="7">Head over to the Browse page to find compatible rides!</th>
      </tr>
      {% endif %}
    </tbody>
  </table>
  </td>
  </tbody>
  </table>
</div>